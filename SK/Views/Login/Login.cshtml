@{
    Layout = null;
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>登录界面</title>
    <link href="~/Content/登录界面.css" rel="stylesheet" />
    <style>
        .error-message {
            color: red;
            margin-bottom: 15px;
        }

        .validation {
            display: none;
            color: red;
            font-size: 12px;
        }

        .input.required + .validation.req {
            display: block;
        }
    </style>
</head>
<body style="background-image: url('../img/OCTOPATH_TRAVELER_ARTWORK_1_1920x1080.jpg'); background-size: cover; background-position: center; background-attachment: fixed; font-family: 'Raleway', sans-serif; min-height: 100vh; display: flex; align-items: center; justify-content: center; position: relative;">
    <!-- 背景透明度叠加层 -->
    <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.3); z-index: -1;"></div>

    <div class="form" id="loginForm" style="background-color: rgba(0, 0, 0, 0.8);">
        <h1>登录</h1>

        @if (ViewData.ModelState.ContainsKey("") && ViewData.ModelState[""].Errors.Any())
        {
            <div class="error-message">
                @ViewData.ModelState[""].Errors.First().ErrorMessage
            </div>
        }

        @using (Html.BeginForm("Login", "Login", FormMethod.Post, new { id = "loginForm" }))
        {
            @Html.AntiForgeryToken()

            <p class="account">
                <label for="account">账号</label>
                <input class="input" required type="text" id="account" name="account" />
                <span class="validation req">账号不能为空</span>
            </p>
            <p class="password">
                <label for="password">密码</label>
                <input class="input" required type="password" id="password" name="password" />
                <span class="validation req">密码不能为空</span>
            </p>
            <p class="remember">
                <input class="checkbox" type="checkbox" id="remember" name="remember" />
                <label for="remember"> 记住我</label>
            </p>
            <p class="login">
                <input type="submit" value="登录" id="submitBtn" />
            </p>
        }

        <div class="login" style="margin-top: 10px; text-align: center;">
            <a href="@Url.Action("RedirectToRegister", "Login")" style="color: #87CEEB; text-decoration: none;">没有帐户？前往注册。</a>
        </div>
    </div>

    <script>
        document.getElementById('loginForm').addEventListener('submit', function (e) {
            document.querySelectorAll('.input').forEach(input => {
                input.classList.remove('required');
            });

            let isValid = true;
            const account = document.getElementById('account');
            const password = document.getElementById('password');

            if (!account.value.trim()) {
                account.classList.add('required');
                isValid = false;
            }

            if (!password.value.trim()) {
                password.classList.add('required');
                isValid = false;
            }

            if (!isValid) {
                e.preventDefault();
            }
        });

        document.getElementById('account').addEventListener('input', function () {
            if (this.value.trim()) {
                this.classList.remove('required');
            }
        });

        document.getElementById('password').addEventListener('input', function () {
            if (this.value.trim()) {
                this.classList.remove('required');
            }
        });
    </script>
</body>
</html>